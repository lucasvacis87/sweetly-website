<div class="productos-container">
  <!-- Banner de presentación -->
  <section class="productos-banner">
    <div class="text-container">
      <h1>Catálogo de Amigurumis</h1>
      <p>Descubrí nuestro catálogo de amigurumis y sets personalizados.</p>
      <button mat-button class="btn-medidas" (click)="openInfoCompra()">
        ¿Cómo comprar?
      </button>
    </div>
  </section>

  <section class="tiempo-entrega">
    <div class="container-entrega">
      <h3><i class="fa-solid fa-truck-fast"></i> Tiempo de entrega</h3>

      <div class="entrega-opcion">
        <i class="fa-solid fa-box"></i>
        <div>
          <p><strong>Amigurumis del catálogo</strong></p>
          <p>Entrega rápida: <strong>5 días hábiles</strong>.</p>
        </div>
      </div>

      <div class="entrega-opcion">
        <i class="fa-solid fa-wand-magic-sparkles"></i>
        <div>
          <p><strong>Personalizados y sets a medida</strong></p>
          <p>Entrega especial: <strong>10 días hábiles</strong>.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Tabs -->
  <mat-tab-group #tabGroup class="sweetly-tabs">

    <!-- Amigurumis -->
    <mat-tab label="Amigurumis">
      <section class="productos-grid">
        <app-product-card
          *ngFor="let product of products"
          [item]="product"
          type="normal"
          (addToCart)="addToCart($event)"
          (increment)="incrementLocal($event)"
          (decrement)="decrementLocal($event)"
          (openModal)="openModal()"
        ></app-product-card>
      </section>
    </mat-tab>

    <!-- Personalizados -->
    <mat-tab label="Personalizados">
      <section class="productos-grid">
        <app-product-card
          *ngFor="let custom of personalized"
          [item]="custom"
          type="custom"
          (openCustom)="openCustomOrder($event)"
          (verMedidas)="openModal()"
        ></app-product-card>
      </section>
    </mat-tab>


    <!-- Sets Personalizados -->
    <mat-tab label="Sets">
      <section class="productos-grid">
        <app-product-card
          *ngFor="let set of sets"
          [item]="set"
          type="set"
          (openCustom)="openCustomOrder($event)"
          (openCustomOrder)="openCustomOrder($event)"
        ></app-product-card>
      </section>
    </mat-tab>

    <!-- Combos -->
    <mat-tab label="Combos">
      <section class="productos-grid">
        <app-product-card
          *ngFor="let combo of combos"
          [item]="combo"
          type="combo"
        ></app-product-card>
      </section>
    </mat-tab>
  </mat-tab-group>

  <!-- Sección final -->
  <section class="productos-banner">
    <h3>¿No encontrás tu Amigurumi?</h3>
    <p>Si no lo ves en nuestro catálogo, contáctanos para realizar un pedido personalizado.</p>
    <button mat-raised-button color="primary" [routerLink]="['/contacto']">
      Contactar
    </button>
  </section>
</div>

<!-- Modal tabla medidas -->
<div class="modal-overlay" [class.open]="modalAbierto">
  <div class="modal-content">
    <button class="cerrar" (click)="closeModal()">×</button>
    <h2>Tabla de Medidas</h2>
    <table>
      <thead>
        <tr>
          <th>Tamaño</th>
          <th>Altura (cm)</th>
          <th>Ancho (cm)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Peque</td>
          <td>5 - 10</td>
          <td>3 - 6</td>
        </tr>
        <tr>
          <td>Mediano</td>
          <td>11 - 20</td>
          <td>10 - 18</td>
        </tr>
        <tr>
          <td>Grande</td>
          <td>21 - 35</td>
          <td>19 - 25</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Modal info compra -->
<div class="modal-overlay" [class.open]="infoCompraAbierto">
  <div class="modal-content">
    <button class="cerrar" (click)="closeInfoCompra()">×</button>

    <section class="como-comprar">
      <div class="container">
        <h2>¿Cómo comprar en Sweetly?</h2>
        <p class="subtitulo">Hacemos tus amigurumis con amor 💖. Te explicamos cómo podés hacer tu pedido fácil y rápido.</p>

        <div class="opciones-compra">
          <div class="card-compra">
            <h3>🛒 Productos del Catálogo</h3>
            <p>Agregalos al carrito y pagalos online. Los recibís en 5 días hábiles.</p>
            <p><strong>¡Listo para encargar al instante!</strong></p>
          </div>

          <div class="card-compra">
            <h3>🎨 Amigurumis Personalizados</h3>
            <p>Elegí la temática y contactanos por WhatsApp.</p>
            <p><strong>Hechos a tu medida, entrega en 5 días.</strong></p>
            <a href="https://wa.me/+5491157206739" target="_blank" class="btn-whatsapp">Encargar por WhatsApp</a>
          </div>

          <div class="card-compra">
            <h3>🎁 Sets Personalizados</h3>
            <p>Ideal para bautismos, baby showers y más. Hacemos sets a medida con 10 días de entrega.</p>
            <p><strong>Se encarga por WhatsApp con asesoramiento personalizado.</strong></p>
            <a href="https://wa.me/+5491157206739" target="_blank" class="btn-whatsapp">Consultar ahora</a>
          </div>

          <div class="card-compra">
            <h3>✨ Combos Especiales</h3>
            <p>Sets listos para regalar. Compralos directo desde la web y recibilos en 10 días.</p>
            <p><strong>¡Disponibles ahora!</strong></p>
          </div>
        </div>

        <hr>

        <div class="medios-pago">
          <h3>Medios de pago disponibles</h3>
          <p>Pagá de forma segura con <strong>Mercado Pago</strong> y accedé a cuotas sin interés con tus tarjetas.</p>
          <ul class="pago-icons">
            <li><img src="pagos/visa.png" alt="Visa" /></li>
            <li><img src="pagos/mastercard.png" alt="Mastercard" /></li>
            <li><img src="pagos/amex.png" alt="Amex" /></li>
            <li><img src="pagos/mercadopago.png" alt="Mercado Pago" /></li>
          </ul>
          <p class="pago-beneficio">Pagá con tarjeta de crédito, débito o en cuotas sin interés. ¡100% seguro!</p>
        </div>
      </div>
    </section>
  </div>
</div>
