import './polyfills.server.mjs';
import{Ab as r,Bb as C,Cb as _,Fa as c,Gb as h,Ja as x,Qa as I,Ua as f,bb as v,ca as p,da as d,jb as e,kb as n,ld as P,mb as g,md as T,nc as E,nd as M,ob as u,oc as b,od as k,pb as l,pd as w,qc as y,qd as V,zb as S}from"./chunk-M2ZC7ONO.mjs";import"./chunk-X2SEQXRR.mjs";function O(o,i){if(o&1){let t=g();e(0,"div",5)(1,"span"),r(2),n(),e(3,"span"),r(4),n(),e(5,"div",6)(6,"button",7),u("click",function(){let a=p(t).$implicit,m=l(2);return d(m.decrement(a))}),e(7,"mat-icon"),r(8,"remove"),n()(),e(9,"span"),r(10),n(),e(11,"button",8),u("click",function(){let a=p(t).$implicit,m=l(2);return d(m.increment(a))}),e(12,"mat-icon"),r(13,"add"),n()(),e(14,"button",7),u("click",function(){let a=p(t).$implicit,m=l(2);return d(m.remove(a))}),e(15,"mat-icon"),r(16,"delete"),n()()(),e(17,"p")(18,"strong"),r(19,"Subtotal:"),n(),r(20),n()()}if(o&2){let t=i.$implicit;c(2),C(t.name),c(2),_("Precio: $",t.precio,""),c(6),C(t.quantity),c(10),_(" $",t.precio*t.quantity,"")}}function F(o,i){if(o&1&&(e(0,"div",2)(1,"h2"),r(2,"Tu Carrito"),n(),f(3,O,21,4,"div",3),e(4,"h3"),r(5),n(),e(6,"button",4),r(7,"Proceder al pago"),n()()),o&2){let t=l();c(3),v("ngForOf",t.cartItems),c(2),_("Total: $",t.getTotal(),"")}}function q(o,i){o&1&&(e(0,"h2"),r(1,"Tu carrito est\xE1 vac\xEDo"),n(),e(2,"button",9),r(3,"Ir a productos"),n())}var $=class o{constructor(i){this.cartService=i}cartItems=[];ngOnInit(){this.cartItems=this.cartService.getItems()}increment(i){this.cartService.incrementQuantity(i.id),this.refresh()}decrement(i){this.cartService.decrementQuantity(i.id),this.refresh()}remove(i){this.cartService.removeItem(i.id),this.refresh()}refresh(){this.cartItems=this.cartService.getItems()}getTotal(){return this.cartItems.reduce((i,t)=>i+t.precio*t.quantity,0)}static \u0275fac=function(t){return new(t||o)(x(V))};static \u0275cmp=I({type:o,selectors:[["app-carrito"]],decls:3,vars:2,consts:[["emptyCart",""],["class","cart-container",4,"ngIf","ngIfElse"],[1,"cart-container"],["class","cart-item",4,"ngFor","ngForOf"],["mat-raised-button","","color","accent"],[1,"cart-item"],[1,"quantity-controls"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","primary",3,"click"],["mat-raised-button","","routerLink","/productos"]],template:function(t,s){if(t&1&&f(0,F,8,2,"div",1)(1,q,4,0,"ng-template",null,0,h),t&2){let a=S(2);v("ngIf",s.cartItems.length>0)("ngIfElse",a)}},dependencies:[y,E,b,w,k,M,P,T],encapsulation:2})};export{$ as CartPageComponent};
